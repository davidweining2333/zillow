"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[573],{58147:function(pt,y,a){a.r(y),a.d(y,{default:function(){return H}});var O=a(28488),P=a.n(O),N=a(30577),l=a.n(N),u=a(41919),W=a(89139),A=a(11140),f=a(65620),Q=a(44945),r=a(50959),T=a(3852),m=a.n(T),$=a(43475),vt=a(94938),E=a(32699),t=a(11527),b=["type","coord"],z=a(87367),B=function(){var R=(0,r.useRef)(),G=(0,r.useState)(),h=l()(G,2),d=h[0],U=h[1],w=(0,r.useState)(!1),x=l()(w,2),L=x[0],j=x[1],J=(0,r.useState)({}),S=l()(J,2),s=S[0],K=S[1],X=(0,r.useState)({xAxis:{type:"category",data:["2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036"]},yAxis:{type:"value"},tooltip:{show:!0,trigger:"axis"},series:[{data:[150,230,224,218,135,147,260],type:"line",symbolSize:0,smooth:!0,itemStyle:{},lineStyle:{color:"#0df50d"}}]}),C=l()(X,2),M=C[0],Y=C[1],k=(0,r.useState)([{type:"point",coord:[36.377637,-120.642449],name:"Q1",MW:"100",hub:"NP15",project:"flatland",county:"king",state:"CA",COD:"2025"},{type:"point",coord:[36.971123,-119.129794],name:"Q2",MW:"200",hub:"SP15",project:"cypress",county:"henrico",state:"CA",COD:"2026"},{type:"point",coord:[37.465973,-120.249976],name:"Q3",MW:"300",hub:"ZP26",project:"kingstone press",county:"henrico",state:"queue",COD:"2024"},{type:"polygon",coord:[[35.049683,-118.543644],[35.011913,-118.518787],[35.008184,-118.599445]],MW:"400",hub:"NP15",project:"crystal farm",county:"envy",state:"CA",COD:"2030",name:"Q4"}]),V=l()(k,1),q=V[0],_=(0,r.useState)(),I=l()(_,2),tt=I[0],et=I[1],at=u.Z.useForm(),nt=l()(at,1),p=nt[0],ot=[{dataIndex:"name",title:"Name"},{dataIndex:"MW",title:"MW"},{dataIndex:"hub",title:"Hub"},{dataIndex:"project",title:"Project"},{dataIndex:"county",title:"County"},{dataIndex:"state",title:"State"},{dataIndex:"COD",title:"COD"}],rt=(0,r.useState)([{type:"point",data:[0,0,-150,15,20,24,25,20,21,22,23,16,5,0],name:"Q1"},{type:"point",data:[0,0,0,-280,30,31,32,28,25,36,34,31,22,27],name:"Q2"},{type:"point",data:[0,-400,60,60,70,70,80,50,40,60,80,30,0,0],name:"Q3"},{type:"polygon",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],name:"Q4"}]),st=l()(rt,1),it=st[0],lt=(0,r.useState)(0),g=l()(lt,2),dt=g[0],ct=g[1];(0,r.useEffect)(function(){var n;return d?n=d:(n=m().map("map").setView([36.377637,-120.642449],10),U(n)),m().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',maxZoom:18}).addTo(n),function(){d==null||d.remove()}},[]);function ut(){q.forEach(function(n){var e=n.type,o=n.coord,i=P()(n,b);switch(e){case"point":{var c=m().marker(o,{icon:m().icon({iconUrl:z}),title:i.name,data:i}).addTo(d);c.on("click",D);break}case"polygon":{var v=m().polygon(o,{title:i.name,data:i}).addTo(d);v.on("click",D);break}}})}function D(n){j(!0),setTimeout(function(){var e;K(n==null||(e=n.target)===null||e===void 0?void 0:e.options.data);var o=(0,E.cloneDeep)(M);o.series[0].data=it.find(function(i){var c;return i.name==(n==null||(c=n.target)===null||c===void 0?void 0:c.options.data.name)}).data,Y(o)})}return(0,r.useEffect)(function(){d&&ut()},[d]),(0,r.useEffect)(function(){if(s!=null&&s.name){var n=ot.map(function(e){return{key:e.dataIndex,label:e.title,children:s[e.dataIndex]}});et(n)}},[s==null?void 0:s.name]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:R,id:"map",className:"h-full overflow-hidden"}),(0,t.jsxs)(W.Z,{width:500,forceRender:!0,title:"".concat(s==null?void 0:s.name," Info"),open:L,onClose:function(){return j(!1)},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"primary-title",children:"Base Info"}),(0,t.jsx)(A.Z,{title:s.Project,items:tt})]}),(0,t.jsxs)("div",{style:{width:"100%"},children:[(0,t.jsx)("div",{className:"primary-title",children:"Trash Flow Trend"}),(0,t.jsx)($.Z,{option:M,notMerge:!0,lazyUpdate:!0})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"primary-title",children:"Monthly cost calculator"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{children:"Estimated monthly cost"}),(0,t.jsx)("div",{children:"$".concat(dt)}),(0,t.jsxs)(u.Z,{form:p,name:"trigger",style:{maxWidth:600},layout:"vertical",autoComplete:"off",onValuesChange:function(e,o){var i,c;if(e!=null&&(i=e.payment)!==null&&i!==void 0&&i.value){var v=Math.round(e.payment.value/o.price*100);v!=o.payment.ratio&&p.setFieldValue(["payment","ratio"],v)}else if(e!=null&&(c=e.payment)!==null&&c!==void 0&&c.ratio){var Z=Math.round(e.payment.ratio*o.price/100);Z!=o.payment.value&&p.setFieldValue(["payment","value"],Z)}else if(e.price){var F=Math.round(o.payment.ratio*e.price/100);F!=o.payment.value&&p.setFieldValue(["payment","value"],F)}var mt=Math.floor((o.price-o.payment.value)/12/30);ct(mt)},children:[(0,t.jsx)(u.Z.Item,{label:"Home price",name:"price",children:(0,t.jsx)(f.Z,{style:{width:"100%"},defaultValue:0,placeholder:"Home price"})}),(0,t.jsx)(u.Z.Item,{label:"Down payment",children:(0,t.jsxs)(Q.Z.Compact,{children:[(0,t.jsx)(u.Z.Item,{name:["payment","value"],children:(0,t.jsx)(f.Z,{defaultValue:0,width:"100%",addonBefore:"$",placeholder:"payment"})}),(0,t.jsx)(u.Z.Item,{name:["payment","ratio"],children:(0,t.jsx)(f.Z,{defaultValue:0,min:0,max:100,addonAfter:"%",placeholder:"ratio"})})]})})]})]})]})]})]})},H=B}}]);
